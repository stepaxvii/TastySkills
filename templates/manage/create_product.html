{% extends "base.html" %}

{% block title %}–°–æ–∑–¥–∞—Ç—å –±–ª—é–¥–æ - {{ category.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
            {% if user and user.role == 'admin' %}
            <li class="breadcrumb-item"><a href="/restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</a></li>
            {% endif %}
            <li class="breadcrumb-item"><a href="/restaurants/{{ category.restaurant.id }}">{{ category.restaurant.name }}</a></li>
            <li class="breadcrumb-item"><a href="/sections/{{ category.section.id }}">{{ category.section.name }}</a></li>
            <li class="breadcrumb-item"><a href="/categories/{{ category.id }}">{{ category.title }}</a></li>
            <li class="breadcrumb-item active" aria-current="page"><span>‚ûï –°–æ–∑–¥–∞—Ç—å –±–ª—é–¥–æ</span></li>
        </ol>
    </nav>

    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="card-header">
                    <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ</h3>
                    <p class="text-muted mb-0">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ category.title }} | –†–∞–∑–¥–µ–ª: {{ category.section.name }} | –†–µ—Å—Ç–æ—Ä–∞–Ω: {{ category.restaurant.name }}</p>
                </div>
                {% if success %}
                <div class="alert alert-success">
                    <strong>‚úÖ –ë–ª—é–¥–æ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ!</strong><br>
                    <small>–ë–ª—é–¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "{{ category.title }}". –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –µ—â—ë –æ–¥–Ω–æ –±–ª—é–¥–æ –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.</small>
                    <div class="mt-2">
                        <a href="/categories/{{ category.id }}" class="btn btn-outline-success btn-sm">üëÅÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</a>
                        <a href="/sections/{{ category.section.id }}" class="btn btn-outline-primary btn-sm">üìã –ö –¥—Ä—É–≥–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</a>
                    </div>
                </div>
                {% else %}
                <div class="alert alert-info">
                    <strong>–î–æ–±–∞–≤—å—Ç–µ –±–ª—é–¥–æ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "{{ category.title }}"</strong><br>
                    <small>–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–ª—é–¥–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –±–ª—é–¥–∞ –≤ —ç—Ç—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.</small>
                </div>
                {% endif %}
                <div class="card-body">
                    <form method="post">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="title" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ *</label>
                                    <input type="text" class="form-control" id="title" name="title" required 
                                           placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="weight" class="form-label">–í–µ—Å/–û–±—ä–µ–º</label>
                                    <input type="text" class="form-control" id="weight" name="weight" 
                                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 300–≥, 250–º–ª">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="ingredients" class="form-label">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã *</label>
                                    <textarea class="form-control" id="ingredients" name="ingredients" rows="4" required
                                              placeholder="–°–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤"></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="allergens" class="form-label">–ê–ª–ª–µ—Ä–≥–µ–Ω—ã</label>
                                    <input type="text" class="form-control" id="allergens" name="allergens" 
                                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ì–ª—é—Ç–µ–Ω, –ú–æ–ª–æ–∫–æ, –û—Ä–µ—Ö–∏">
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                    <textarea class="form-control" id="description" name="description" rows="3"
                                              placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –±–ª—é–¥–∞"></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="features" class="form-label">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–ª—é–¥–∞</label>
                                    <textarea class="form-control" id="features" name="features" rows="3"
                                              placeholder="–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è, —á—Ç–æ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–Ω—Ç"></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="table_setting" class="form-label">–ü–æ–¥–∞—á–∞</label>
                                    <textarea class="form-control" id="table_setting" name="table_setting" rows="2"
                                              placeholder="–ö–∞–∫ –ø–æ–¥–∞–µ—Ç—Å—è –±–ª—é–¥–æ"></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="gastronomic_pairings" class="form-label">–ì–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è</label>
                                    <textarea class="form-control" id="gastronomic_pairings" name="gastronomic_pairings" rows="2"
                                              placeholder="–° —á–µ–º —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è –±–ª—é–¥–æ"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –±–ª—é–¥–æ</button>
                            <a href="/categories/{{ category.id }}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
                            <a href="/sections/{{ category.section.id }}" class="btn btn-outline-secondary">–ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="back-button-container">
        <a href="/categories/{{ category.id }}" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
    </div>
</div>
{% endblock %} 