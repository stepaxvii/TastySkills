{% extends "base.html" %}

{% block title %}–†–µ—Å—Ç–æ—Ä–∞–Ω—ã - Basket of Products{% endblock %}

{% block content %}
<div class="content-wrapper fade-in">

    <div class="page-header-unified">
        <h1>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</h1>
        {% if user and user.role in ['admin', 'manager'] %}
        <div class="management-buttons">
            <a href="/manage/restaurants/create" class="btn btn-success btn-lg">
                üè™ –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω
            </a>
        </div>
        {% endif %}
    </div>
    {% if restaurants %}
        <div class="categories-list">
            {% for restaurant in restaurants %}
            <div class="restaurant-card">
                <div class="restaurant-content" onclick="window.location.href='/restaurants/{{ restaurant.id }}'">
                    <h4 class="card-title">{{ restaurant.name }}</h4>
                    <p class="card-text">{{ restaurant.concept or '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è' }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <div class="text-center py-5">
                <h3 class="text-muted mb-3">–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ</h3>
                <p class="text-muted mb-4">–í —Å–∏—Å—Ç–µ–º–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤.</p>
                {% if user and user.role in ['admin', 'manager'] %}
                <a href="/manage/restaurants/create" class="btn btn-success btn-lg">
                    üè™ –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω
                </a>
                {% endif %}
            </div>
        </div>
    {% endif %}

    <div class="back-button-container">
        <a href="/" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script>
// –ê–Ω–∏–º–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
const cards = document.querySelectorAll('.card');
cards.forEach((card, i) => {
    card.style.opacity = 0;
    setTimeout(() => {
        card.style.transition = 'opacity 0.5s';
        card.style.opacity = 1;
    }, 100 + i * 120);
});
</script>
{% endblock %} 